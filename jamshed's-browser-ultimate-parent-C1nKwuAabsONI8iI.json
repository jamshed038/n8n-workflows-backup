{"createdAt":"2025-07-07T06:07:39.503Z","updatedAt":"2025-07-07T06:07:39.503Z","id":"C1nKwuAabsONI8iI","name":"Jamshed's Browser Ultimate Parent","active":false,"isArchived":false,"nodes":[{"parameters":{"resource":"extraction","operation":"query","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","prompt":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt', `- Use to extract gym details displayed after clicking a red pin:\n  - Studio Name\n  - Street Address\n  - Postal Code & City\n  - Phone Number\n  - Email (if available)\n  - Website (if available)\n- Use to extract gym details displayed after clicking a red pin:\n  - Studio Name\n  - Street Address\n  - Postal Code & City\n  - Phone Number\n  - Email (if available)\n  - Website (if available)\n- Use to extract gym details displayed after clicking a red pin:\n  - Studio Name\n  - Street Address\n  - Postal Code & City\n  - Phone Number\n  - Email (if available)\n  - Website (if available)\n`, 'string') }}","additionalFields":{}},"id":"7ee9d55a-5027-491b-aa46-53b3c59cd902","name":"Query","type":"n8n-nodes-base.airtopTool","position":[860,660],"typeVersion":1},{"parameters":{"resource":"window","operation":"load","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","url":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}","additionalFields":{}},"id":"05136abc-03a2-400c-b661-635520b577a3","name":"Load URL","type":"n8n-nodes-base.airtopTool","position":[1040,380],"typeVersion":1},{"parameters":{"resource":"interaction","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","elementDescription":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', `- Click anywhere inside the map rectangle to activate it\n- Then perform zoom-in actions (scroll up or double-click) to reveal more pins`, 'string') }}","additionalFields":{}},"id":"10e41842-3d3a-4327-b651-2b8531930543","name":"Type","type":"n8n-nodes-base.airtopTool","position":[720,660],"typeVersion":1,"alwaysOutputData":true},{"parameters":{"name":"Start_Browser","description":"Start a new browser session and window","workflowId":{"__rl":true,"mode":"id","value":"vPvnOJw8Nm6WsFqy"},"workflowInputs":{"mappingMode":"defineBelow","value":{"url":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('url', `URL to load in the browser window\n`, 'string') }}"},"matchingColumns":[],"schema":[{"id":"url","displayName":"url","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"profile_name","displayName":"profile_name","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"id":"039f3ea5-b434-4dac-ba0a-64c10b610130","name":"Start Browser","type":"@n8n/n8n-nodes-langchain.toolWorkflow","position":[420,380],"typeVersion":2.1},{"parameters":{"operation":"terminate","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}"},"id":"0cba6cdd-dc7e-4439-b7c2-42ee0f09dd3e","name":"End Session","type":"n8n-nodes-base.airtopTool","position":[1180,380],"typeVersion":1},{"parameters":{"description":"- Use when unsure or to decide:\n  - Have all pins been clicked?\n  - Are more pins visible after further zoom?\n  - Is more data loading?"},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1,"position":[300,380],"id":"5b91dc97-9e8e-4af4-8fac-0fe80c03813e","name":"Think"},{"parameters":{"options":{"systemMessage":"=#Overview\nYou are an advanced web agent connected to remote browser tools. Your primary mission is to extract fitness studio information from the \"Clever Fit Germany\" website map.\n\n## Objective (Initial Step)\n1. Open the Clever Fit studio locator page:  \n   https://www.clever-fit.com/de/fitnessstudio/\n2. Once the page loads, use the Tool \"Click\" the black button labeled \"Alle akzeptieren\" to accept cookies.\n\n## Tools You Must Use\n- \"Start_Browser\": Use this first to start the session. It gives you `sessionId` and `windowId`.\n- \"Load URL\": Use this with the session/window IDs and the Clever Fit URL.\n- \"Click\" the Black Button Tool: After the URL is loaded, use this to click \"Alle akzeptieren\"","maxIterations":20,"returnIntermediateSteps":false,"passthroughBinaryImages":true}},"id":"74547912-eb82-4397-b62f-36029f0594c4","name":"Browser Agent","type":"@n8n/n8n-nodes-langchain.agent","position":[260,0],"retryOnFail":true,"typeVersion":1.8,"waitBetweenTries":5000},{"parameters":{"model":"anthropic/claude-3.5-sonnet","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[-180,380],"id":"9bb6b447-9def-418b-8235-c19e35ae9ce2","name":"3.5 Sonnet"},{"parameters":{"contextWindowLength":20},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[-60,380],"id":"6b73b77e-7cbc-4b74-bac5-d091b0549eba","name":"Memory"},{"parameters":{"resource":"interaction","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","elementDescription":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', `Describe in detail the element to click on, e.g. The menu item \"about us\" at the top of the page`, 'string') }}","additionalFields":{"waitForNavigation":"domcontentloaded"}},"id":"4030fe32-2875-448c-a9f9-d28e2fd17f3c","name":"ClickTool","type":"n8n-nodes-base.airtopTool","position":[1280,640],"typeVersion":1,"alwaysOutputData":true},{"parameters":{"documentId":{"__rl":true,"value":"1_IU0wr268P_-XByVYsdrvlBmuDH7zc4AlAAPj-CKE50","mode":"list","cachedResultName":"Airtop Scrap","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1_IU0wr268P_-XByVYsdrvlBmuDH7zc4AlAAPj-CKE50/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":"gid=0","mode":"list","cachedResultName":"Sheet1","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1_IU0wr268P_-XByVYsdrvlBmuDH7zc4AlAAPj-CKE50/edit#gid=0"},"options":{}},"type":"n8n-nodes-base.googleSheetsTool","typeVersion":4.6,"position":[1460,660],"id":"a922a9f9-493f-4e52-8445-2479a85a992f","name":"Get row(s) in sheet in Google Sheets"},{"parameters":{"resource":"interaction","operation":"hover","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","elementDescription":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', ``, 'string') }}","additionalFields":{}},"type":"n8n-nodes-base.airtopTool","typeVersion":1,"position":[1760,340],"id":"a8f7fb99-a530-4b6e-93f2-7f1309587574","name":"Hover on an element in Airtop"},{"parameters":{"toolDescription":"=### Click\n- Use to:\n  - Accept the cookie popup by clicking the button labeled **\"Alle akzeptieren\"**\n  - Click on red location pins inside the map\n  - Expand details if needed after clicking a pin","method":"POST","url":"=https://api.airtop.ai/api/v1/sessions/{{ $fromAI('sessionId') }}/windows/{{ $fromAI('windowId') }}/click","authentication":"predefinedCredentialType","nodeCredentialType":"airtopApi","sendBody":true,"bodyParameters":{"parameters":[{"name":"elementDescription","value":"={{ $fromAI('elementDescription', `the element to click on in as much detail as possible`, 'string') }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequestTool","typeVersion":4.2,"position":[640,380],"id":"57a6bda0-1044-46f4-a57a-e6201f8db069","name":"Click On Black Button"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[0,0],"id":"f300bdb6-73e0-4adf-b15c-22bb8f45f176","name":"When chat message received","webhookId":"dab4732d-a78e-425d-8ab9-c674d1dd97e2"}],"connections":{"Load URL":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"Start Browser":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"End Session":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"Think":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"3.5 Sonnet":{"ai_languageModel":[[{"node":"Browser Agent","type":"ai_languageModel","index":0}]]},"Memory":{"ai_memory":[[{"node":"Browser Agent","type":"ai_memory","index":0}]]},"Hover on an element in Airtop":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"Click On Black Button":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"When chat message received":{"main":[[{"node":"Browser Agent","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"a1c97488-e2ee-494a-ae5a-21b2f2e29e38","triggerCount":0,"shared":[{"createdAt":"2025-07-07T06:07:39.508Z","updatedAt":"2025-07-07T06:07:39.508Z","role":"workflow:owner","workflowId":"C1nKwuAabsONI8iI","projectId":"6EdZFkSJTSDUHwBl"}],"tags":[]}